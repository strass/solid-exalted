/// <reference types="node" />
import { EventEmitter } from "events";
import { ILoginInputOptions, ISessionInfo, IStorage } from "@inrupt/solid-client-authn-core";
import ClientAuthentication from "./ClientAuthentication";
export interface ISessionOptions {
    secureStorage: IStorage;
    insecureStorage: IStorage;
    sessionInfo: ISessionInfo;
    clientAuthentication: ClientAuthentication;
}
export interface IHandleIncomingRedirectOptions {
    restorePreviousSession?: boolean;
    useEssSession?: boolean;
    url?: string;
}
export declare function silentlyAuthenticate(sessionId: string, clientAuthn: ClientAuthentication, options?: {
    inIframe?: boolean;
}): Promise<boolean>;
export declare class Session extends EventEmitter {
    readonly info: ISessionInfo;
    private clientAuthentication;
    private tokenRequestInProgress;
    private tmpFetchWithCookies;
    constructor(sessionOptions?: Partial<ISessionOptions>, sessionId?: string);
    login: (options: ILoginInputOptions) => Promise<void>;
    fetch: (url: RequestInfo, init?: RequestInit | undefined) => Promise<Response>;
    logout: () => Promise<void>;
    handleIncomingRedirect: (inputOptions?: string | IHandleIncomingRedirectOptions) => Promise<ISessionInfo | undefined>;
    onLogin(callback: () => unknown): void;
    onLogout(callback: () => unknown): void;
    onSessionRestore(callback: (currentUrl: string) => unknown): void;
    private setSessionInfo;
}
